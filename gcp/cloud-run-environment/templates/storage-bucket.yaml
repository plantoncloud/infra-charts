{% if values.storageBucketEnabled | bool %}
---
apiVersion: gcp.project-planton.org/v1
kind: GcpGcsBucket
metadata:
  name: "{{ values.storage_bucket_name }}"
  group: storage
  {% if values.serviceAccountEnabled | bool %}
  relationships:
    - kind: GcpServiceAccount
      name: "{{ values.service_account_id }}"
      type: depends_on
  {% endif %}
spec:
  gcpProjectId: "{{ values.gcp_project_id }}"
  location: "{{ values.gcp_region }}"
  bucketName: "{{ values.storage_bucket_name }}"
{% endif %}

